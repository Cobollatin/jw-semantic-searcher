name: "GitHub Issue for TODOs"
run-name: "GitHub Issue for TODOs for commit ${{ github.sha }}"
on:
    workflow_dispatch:
      inputs:
        MANUAL_COMMIT_REF:
          description: "The SHA of the commit to get the diff for"
          required: true
        MANUAL_BASE_REF:
          description: "By default, the commit entered above is compared to the one directly before it; to go back further, enter an earlier SHA here"
          required: false
    push:
        branches:
            - main
permissions:
    id-token: write
    contents: read
    pull-requests: write
jobs:
    todo_to_issue:
        name: "TODO to GitHub Issue"
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v4.1.4
            - name: "TODO to Issue"
              uses: alstr/todo-to-issue-action@v4.13
              env:
                MANUAL_COMMIT_REF: ${{ inputs.MANUAL_COMMIT_REF }}
                MANUAL_BASE_REF: ${{ inputs.MANUAL_BASE_REF }}
              with:
                AUTO_P: true
                AUTO_ASSIGN: true
                  
